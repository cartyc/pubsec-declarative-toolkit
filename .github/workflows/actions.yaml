name: solutions-validation
on: [push]
jobs:
  workspace:
    runs-on: ubuntu-latest
    steps:
      - name: dir check
        run: ls ${{ github.workspace }}
  validate:
    runs-on: ubuntu-latest
    container: 
      image: gcr.io/config-management-release/nomos:stable
      options: --entrypoint "" -v ${{ github.workspace }}:/landing-zone
    steps:
      - name: dir check
        run: ls /
      - name: nomos vet
        run: |
          nomos vet --no-api-server-check --source-format unstructured --path /landing-zone/solutions/landing-zone/environments